webpackJsonp([1],{NHnr:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=e("7+uW"),a={name:"BreakoutGame",data:function(){return{canvas:void 0,context:void 0,canvasWidth:void 0,canvasHeight:void 0,brick:void 0,bricks:{row:4,column:6,color:"#ffc500",height:20,width:void 0,padding:2},setting:{ballColor:"#7f8c8d",ballRadius:10,paddleHeight:10,paddleWidth:120,frameSpeed:10,paddleMoveLeft:!1,paddleMoveRight:!1,paddleMoveRate:4,paddleX:170,paddleY:420,gameState:!0,deathNumber:0,deathTotal:2,lostMessage:"You've lost the game. Would you like to play again?",wonMessage:"You've beaten the game. Would you like to improve on your score?",currentScore:0,brickScore:20,paddleScore:10},x:void 0,y:200,dx:.5,dy:4,gameStart:void 0,totalBricks:0,footer:"          \n          Use left and right keys to move paddle.\n          <br>\n          Press spacebar to start game.",modalHeader:"",modalMessage:"",showOverlay:!1,won:!1}},methods:{drawBall:function(){this.context.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.context.beginPath(),this.context.arc(this.x,this.y,this.setting.ballRadius,0,2*Math.PI,!0),this.context.closePath(),this.context.fillStyle=this.setting.ballColor,this.context.fill(),this.x+=this.dx,this.y+=this.dy},drawPaddle:function(){this.setting.paddleMoveLeft&&this.setting.paddleX>=0&&(this.setting.paddleX-=this.setting.paddleMoveRate),this.setting.paddleMoveRight&&this.setting.paddleX<=this.canvasWidth-this.setting.paddleWidth&&(this.setting.paddleX+=this.setting.paddleMoveRate),this.context.fillStyle="#2c3e50",this.context.fillRect(this.setting.paddleX,this.setting.paddleY,this.setting.paddleWidth,this.setting.paddleHeight)},movePaddle:function(){var t=this;window.addEventListener("keydown",function(i){39===i.keyCode?t.setting.paddleMoveRight=!0:37===i.keyCode&&(t.setting.paddleMoveLeft=!0)}),window.addEventListener("keyup",function(i){39===i.keyCode?t.setting.paddleMoveRight=!1:37===i.keyCode&&(t.setting.paddleMoveLeft=!1)})},initBricks:function(){this.totalBricks=this.bricks.row*this.bricks.column,this.brick=new Array(this.bricks.column);for(var t=0;t<this.bricks.column;t++){this.brick[t]=new Array(this.bricks.row);for(var i=0;i<this.bricks.row;i++)this.brick[t][i]={x:0,y:0,state:!0}}},drawBricks:function(){this.bricks.width=this.canvasWidth/this.bricks.column-2;for(var t=0;t<this.bricks.column;t++)for(var i=0;i<this.bricks.row;i++)if(this.brick[t][i].state){var e=t*(this.bricks.width+this.bricks.padding),s=i*(this.bricks.height+this.bricks.padding);this.brick[t][i].x=e,this.brick[t][i].y=s,this.context.beginPath(),this.context.rect(e,s,this.bricks.width,this.bricks.height),this.context.fillStyle=0===i?"#2980b9":1===i?"#27ae60":2===i?"#ED8F03":"#e74c3c",this.context.fill(),this.context.closePath()}},brickCollision:function(){for(var t=0;t<this.bricks.column;t++)for(var i=0;i<this.bricks.row;i++){var e=this.brick[t][i];e.state&&this.x>e.x&&this.x<e.x+this.bricks.width&&this.y>e.y&&this.y<e.y+this.bricks.height&&(this.dy=-this.dy,e.state=!1,this.setting.currentScore+=this.setting.brickScore,this.totalBricks-=1)}},boundaryCollision:function(){if(this.y-this.setting.ballRadius<=0)this.dy=-this.dy;else if(this.y+this.setting.ballRadius>=this.canvasHeight){var t=this.x+this.setting.ballRadius,i=this.x-this.setting.ballRadius;t>=this.setting.paddleX&&i<this.setting.paddleX+this.setting.paddleWidth?(this.dx=(this.x-(this.setting.paddleX+this.setting.paddleWidth/2))/this.setting.paddleWidth*8,void 0===this.dx&&console.log(this.x),this.dy=Math.sqrt(20-this.dx*this.dx),this.dy=-this.dy,this.setting.currentScore>0&&(this.setting.currentScore-=this.setting.paddleScore)):(clearInterval(this.gameStart),this.setting.gameState=!1)}this.y+this.setting.ballRadius>this.canvasHeight+15&&(clearInterval(this.gameStart),this.setting.gameState=!1),(this.x+this.setting.ballRadius>=this.canvasWidth||this.x-this.setting.ballRadius<=0)&&(this.dx=-this.dx)},loseTurn:function(){var t=this;setTimeout(function(i){t.footer="Press any keys to restart the game.",t.setting.deathNumber+=1,t.x=t.canvasWidth/2,t.y=200,t.setting.paddleX=170,t.drawBall(),t.drawBricks(),t.drawPaddle(),t.setting.gameState=!0,window.addEventListener("keyup",function(i){t.gameStart=setInterval(t.init,t.setting.frameSpeed)},{once:!0})},400)},loseGame:function(){this.modalPopup(this.setting.lostMessage,"Game Over !")},initSpacebar:function(){var t=this;window.addEventListener("keyup",function(i){32===i.keyCode&&t.setting.deathNumber<t.setting.deathTotal&&(t.gameStart=setInterval(t.init,t.setting.frameSpeed),t.footer="")},{once:!0})},gameWon:function(){clearInterval(this.gameStart),this.won=!0,this.modalPopup(this.setting.wonMessage,"Well done !"),this.drawBall(),this.drawPaddle()},modalPopup:function(t,i){this.modalHeader=i,this.modalHeader=t;var e=this;setTimeout(function(){e.showOverlay=!0,document.getElementsByTagName("BODY")[0].classList.add("game-over")},100),document.getElementsByClassName("btn-play-again")[0].addEventListener("click",function(t){t.preventDefault(),location.reload()})},init:function(){!0===this.setting.gameState&&this.drawBall(),this.boundaryCollision(),this.drawPaddle(),this.drawBricks(),this.movePaddle(),this.brickCollision(),!1===this.setting.gameState&&this.setting.deathNumber<this.setting.deathTotal?this.loseTurn():!1===this.setting.gameState&&this.setting.deathNumber===this.setting.deathTotal&&this.loseGame(),0===this.totalBricks&&this.gameWon()}},mounted:function(){this.canvas=this.$refs["breakout-game-canvas"],this.context=this.canvas.getContext("2d"),this.canvasWidth=this.canvas.width,this.canvasHeight=this.canvas.height,this.x=this.canvasWidth/2,this.initBricks(),this.init(),this.initSpacebar()}},n={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"game-notifications clearfix"},[e("div",{staticClass:"instr"},[t._v("\n      Score : "+t._s(t.setting.currentScore)+"\n      ")]),t._v(" "),e("ul",{staticClass:"life"},[e("li",{staticClass:"heart",class:{"heart-o":t.setting.deathNumber>0}}),t._v(" "),e("li",{staticClass:"heart",class:{"heart-o":t.setting.deathNumber>1}}),t._v(" "),e("li",{staticClass:"heart"})])]),t._v(" "),e("div",{staticClass:"container"},[e("canvas",{ref:"breakout-game-canvas",attrs:{height:"430",width:"460"}})]),t._v(" "),e("div",{staticClass:"container"},[e("div",{staticClass:"instr-footer"},[e("small",{domProps:{innerHTML:t._s(t.footer)}})])]),t._v(" "),t.showOverlay?e("div",{staticClass:"modal-overlay"}):t._e(),t._v(" "),e("div",{staticClass:"modal-box"},[e("h3",[t._v(t._s(t.modalHeader))]),t._v(" "),t.won?e("p",{staticClass:"modal-score"},[t._v("Score : "+t._s(this.setting.currentScore))]):t._e(),t._v(" "),e("p",{staticClass:"modal-message"},[t._v(t._s(t.modalMessage))]),t._v(" "),e("a",{staticClass:"btn-play-again",attrs:{href:"#"}},[t._v("Play breakout again!")])])])},staticRenderFns:[]};var h={name:"App",components:{BreakoutGame:e("VU/8")(a,n,!1,function(t){e("uIwf")},"data-v-796d9fe5",null).exports}},d={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{attrs:{id:"app"}},[i("breakout-game")],1)},staticRenderFns:[]},o=e("VU/8")(h,d,!1,null,null,null).exports;s.a.config.productionTip=!1,new s.a({el:"#app",components:{App:o},template:"<App/>"})},uIwf:function(t,i){}},["NHnr"]);
//# sourceMappingURL=app.18fd7c3fdf57b56ba1f9.js.map